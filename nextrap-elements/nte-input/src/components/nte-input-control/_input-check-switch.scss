/* Shared base styles for checkbox, radio, and switch */
.form-check {
  display: flex;
  align-items: center;
  min-height: 1.5rem;
  padding-left: 1.5em;
  margin-bottom: 0.125rem;
}

.form-check-label {
  margin-left: 0.5rem;
  margin-bottom: 0;
  cursor: pointer;
}

/* Base input styles for both */
::slotted(input[type='checkbox'].form-check-input),
::slotted(input[type='radio'].form-check-input) {
  float: left;
  margin-left: var(--nxa-check-input-margin-left, -1.5em);
  width: var(--nxa-check-input-width, 1em);
  height: var(--nxa-check-input-height, 1em);
  margin-top: var(--nxa-check-input-margin-top, 0.25em);
  vertical-align: top;
  background-color: var(--nxa-check-input-bg, #fff);
  background-image: var(--nxa-check-input-bg-image, none);
  background-repeat: no-repeat;
  background-position: var(--nxa-check-input-bg-position, center);
  background-size: var(--nxa-check-input-bg-size, contain);
  border: var(--nxa-check-input-border, 1px solid rgba(0, 0, 0, 0.25));
  appearance: none;
  border-radius: var(--nxa-check-input-border-radius, 0.25em);
  transition: var(--nxa-check-input-transition, none);
}

/* Radios should be circular */
::slotted(input[type='radio'].form-check-input) {
  border-radius: var(--nxa-check-input-border-radius, 50%);
}

/* Checked state - same for both */
::slotted(input[type='checkbox'].form-check-input:checked),
::slotted(input[type='radio'].form-check-input:checked) {
  background-color: var(--nxa-check-input-checked-bg, var(--nxa-check-checked-bg, var(--nxa-primary)));
  border-color: var(--nxa-check-input-checked-border-color, var(--nxa-check-checked-border-color, var(--nxa-primary)));
  background-image: var(
    --nxa-check-input-checked-bg-image,
    url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/%3e%3c/svg%3e")
  );
  background-position: var(--nxa-check-input-checked-bg-position, var(--nxa-check-input-bg-position, center));
}

/* Focus states */
::slotted(input[type='checkbox'].form-check-input:focus),
::slotted(input[type='radio'].form-check-input:focus) {
  border-color: var(--nxa-primary);
  outline: 0;
  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}

/* Hover states */
::slotted(input[type='checkbox'].form-check-input:hover),
::slotted(input[type='radio'].form-check-input:hover) {
  cursor: pointer;
}

/* Disabled states */
::slotted(input[type='checkbox'].form-check-input:disabled),
::slotted(input[type='radio'].form-check-input:disabled) {
  pointer-events: none;
  filter: none;
  opacity: 0.5;
}

::slotted(input[type='checkbox'].form-check-input:disabled) ~ .form-check-label,
::slotted(input[type='radio'].form-check-input:disabled) ~ .form-check-label {
  opacity: 0.5;
  cursor: default;
}

/* Validation states */
::slotted(input[type='checkbox'].form-check-input.is-invalid),
::slotted(input[type='radio'].form-check-input.is-invalid) {
  border: 1px solid var(--nxa-danger);
}

::slotted(input[type='checkbox'].form-check-input.is-valid),
::slotted(input[type='radio'].form-check-input.is-valid) {
  border-color: var(--nxa-success);
}

/* Modern Switch Base Styles */
.form-switch {
  padding-left: 3.5em;
  min-height: 2em;
}

.form-switch ::slotted(nte-input) {
  --nxa-check-input-width: 3em;
  --nxa-check-input-height: 1.5em;
  --nxa-check-input-margin-left: -3.5em;
  --nxa-check-input-border-radius: 2em;
  --nxa-check-input-border: 0;
  --nxa-check-input-bg: #e9ecef;
  --nxa-check-input-bg-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e");
  --nxa-check-input-bg-position: left center;
  --nxa-check-input-transition: background-position 0.15s ease-in-out;
  --nxa-check-input-checked-bg: var(--nxa-primary);
  --nxa-check-input-checked-bg-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e");
  --nxa-check-input-checked-bg-position: right center;
}

.form-switch ::slotted(input.form-check-input) {
  width: 3em;
  height: 1.5em;
  margin-left: -3.5em;
  margin-top: 0.25em;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e") !important;
  background-position: left center;
  border-radius: 2em;
  transition: background-position 0.15s ease-in-out;
  border: 0;
  background-color: #e9ecef;
}

.form-switch ::slotted(input.form-check-input:checked) {
  background-position: right center;
  background-color: var(--nxa-primary);
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e") !important;
}

/* Focus states */
.form-switch ::slotted(input.form-check-input:focus) {
  outline: 0;
  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}

/* Disabled state */
.form-switch ::slotted(input.form-check-input:disabled) {
  opacity: 0.5;
}

/* Modern Radio Buttons - same as switches */
.form-switch ::slotted(input[type='radio'].form-check-input) {
  width: 3em;
  height: 1.5em;
  background-color: #e9ecef;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e") !important;
}

.form-switch ::slotted(input[type='radio'].form-check-input:checked) {
  background-position: right center;
  background-color: var(--nxa-primary);
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e") !important;
}
