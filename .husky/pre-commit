
# 1) Wenn Dependencies fehlen: Hook sauber überspringen
[ -d node_modules ] || { echo "skip pre-commit (no node_modules)"; exit 0; }
[ -x node_modules/.bin/lint-staged ] || { echo "skip pre-commit (no lint-staged)"; exit 0; }
[ -x node_modules/.bin/prettier ] || { echo "skip pre-commit (no prettier)"; exit 0; }

# 2) Sicher ausführen, ohne eigenes git add, ohne unnötiges Stashing
npx --no-install lint-staged